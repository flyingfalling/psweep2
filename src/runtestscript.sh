#!/bin/bash
#Examples for running psweep2

NRANKS=12

WPERRANK=10

NCHAINS=120
MAXGEN=450000
STATEFILE=psweepdreamABCz.state
MINMAXFILE=testabc_minmax.bounds
OBSFILE=testabc_observ.data
EPSILFILE=testabc.epsilons
DIR=testabcdir
SEARCHTYPE=DREAM-ABCz
WORKSCRIPT=../configs/test_abc_twopeak_gpu.cfg

HOSTFILE=./machinefile/coi0coi1.machines

stdo=stdout2
stde=stderr2


#REV: FOR FIRST TIME
nohup mpirun -n $NRANKS  --hostfile $HOSTFILE gputest.exe -DIR $DIR -WORKSCRIPT $WORKSCRIPT -SEARCHTYPE $SEARCHTYPE -VARIABLES $MINMAXFILE -OBSERVATIONS $OBSFILE -EPSILONS $EPSILFILE -STATEFILE $STATEFILE -MAXGENS $MAXGEN -NCHAINS $NCHAINS -WORKERSPERRANK=$WPERRANK  -TAG=ABCYOLO 1>$stdo 2>$stde &


#REV: FOR RESTART
# nohup mpirun -n $NRANKS  --hostfile $HOSTFILE gputest.exe -DIR $DIR -WORKSCRIPT $WORKSCRIPT -SEARCHTYPE $SEARCHTYPE -VARIABLES $MINMAXFILE -OBSERVATIONS $OBSFILE -EPSILONS $EPSILFILE -RESTART $STATEFILE -MAXGENS $MAXGEN -NCHAINS $NCHAINS -WORKERSPERRANK=$WPERRANK  -TAG=ABCYOLO 1>$stdo 2>$stde &

    
